# é¡¹ç›®ç»“æ„

**æœ€åæ›´æ–°**: 2025-01-04

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†æ˜Ÿé™…äº‰éœ¸IIåˆä½œä»»åŠ¡å•ä½æ•°å­¦æ¨¡å‹é¡¹ç›®çš„ç›®å½•ç»“æ„å’Œæ–‡ä»¶ç»„ç»‡ã€‚

## ç›®å½•ç»“æ„æ¦‚è§ˆ

```
starcraft2-model/
â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–
â”œâ”€â”€ run_evaluation.py            # å•ä½è¯„ä¼°ä¸»ç¨‹åº
â”œâ”€â”€ run_experiment.py            # å®éªŒæ¡†æ¶å¯åŠ¨å™¨
â”œâ”€â”€ evaluate_new_unit.py         # æ–°å•ä½è¯„ä¼°å·¥å…·
â”‚
â”œâ”€â”€ src/                         # æ ¸å¿ƒæºä»£ç 
â”œâ”€â”€ data/                        # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ experiments/                 # å®éªŒé…ç½®å’Œç»“æœ
â”œâ”€â”€ tools/                       # è¾…åŠ©å·¥å…·
â”œâ”€â”€ docs/                        # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ examples/                    # ä½¿ç”¨ç¤ºä¾‹
â””â”€â”€ tests/                       # æµ‹è¯•æ–‡ä»¶
```

## è¯¦ç»†ç›®å½•è¯´æ˜

### ğŸ“ src/ - æ ¸å¿ƒæºä»£ç 

```
src/
â”œâ”€â”€ core/                        # æ ¸å¿ƒè®¡ç®—æ¨¡å—
â”‚   â”œâ”€â”€ enhanced_cev_calculator.py      # åŠ¨æ€CEVè®¡ç®—å™¨
â”‚   â”œâ”€â”€ refined_cev_calculator.py       # v2.3ç²¾ç»†åŒ–è®¡ç®—å™¨
â”‚   â”œâ”€â”€ cem_visualizer.py              # æˆ˜æ–—æ•ˆèƒ½çŸ©é˜µå¯è§†åŒ–
â”‚   â”œâ”€â”€ model_corrections.py           # æ¨¡å‹ä¿®æ­£é…ç½®
â”‚   â””â”€â”€ mastery_configs.py             # ç²¾é€šç³»ç»Ÿé…ç½®
â”‚
â”œâ”€â”€ data/                        # æ•°æ®å¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ models.py                # æ•°æ®æ¨¡å‹å®šä¹‰ï¼ˆUnit, Weaponç­‰ï¼‰
â”‚   â””â”€â”€ advanced_data_loader.py  # é«˜çº§æ•°æ®åŠ è½½å™¨
â”‚
â”œâ”€â”€ database/                    # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ db_manager.py            # æ•°æ®åº“è¿æ¥ç®¡ç†
â”‚   â”œâ”€â”€ migrate_to_db.py         # CSVå¯¼å…¥å·¥å…·
â”‚   â””â”€â”€ query_interface.py       # é«˜çº§æŸ¥è¯¢æ¥å£
â”‚
â”œâ”€â”€ experiment/                  # å®éªŒç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ experiment_manager.py    # å®éªŒç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â”œâ”€â”€ experiment_runner.py     # å®éªŒæ‰§è¡Œå™¨
â”‚   â””â”€â”€ config_loader.py         # YAMLé…ç½®åŠ è½½å™¨
â”‚
â”œâ”€â”€ analysis/                    # åˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ comprehensive_evaluator.py      # ç»¼åˆè¯„ä¼°å™¨
â”‚   â”œâ”€â”€ v23_cev_calculations.py        # v2.3æ¨¡å‹è®¡ç®—
â”‚   â””â”€â”€ final_six_units_evaluation.py  # å…­å¤§å•ä½è¯„ä¼°
â”‚
â””â”€â”€ visualization/               # å¯è§†åŒ–æ¨¡å—
    â””â”€â”€ enhanced_unit_comparison.py     # å•ä½å¯¹æ¯”å›¾è¡¨
```

### ğŸ“ data/ - æ•°æ®æ–‡ä»¶

```
data/
â”œâ”€â”€ starcraft2.db               # SQLiteä¸»æ•°æ®åº“
â”œâ”€â”€ units/                      # å•ä½æ•°æ®CSV
â”‚   â”œâ”€â”€ units_master.csv        # å•ä½åŸºç¡€æ•°æ®
â”‚   â”œâ”€â”€ weapons.csv             # æ­¦å™¨ç³»ç»Ÿæ•°æ®
â”‚   â””â”€â”€ unit_modes.csv          # æ¨¡å¼åˆ‡æ¢æ•°æ®
â”œâ”€â”€ exports/                    # å¯¼å‡ºæ•°æ®
â”‚   â””â”€â”€ *_corrected.csv         # ä¿®æ­£åçš„æ•°æ®
â””â”€â”€ backups/                    # æ•°æ®å¤‡ä»½
```

### ğŸ“ experiments/ - å®éªŒç³»ç»Ÿ

```
experiments/
â”œâ”€â”€ configs/                    # å®éªŒé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ examples/               # ç¤ºä¾‹é…ç½®
â”‚   â””â”€â”€ production/             # ç”Ÿäº§é…ç½®
â”œâ”€â”€ results/                    # å®éªŒç»“æœ
â”‚   â””â”€â”€ unit_eval/              # å•ä½è¯„ä¼°ç»“æœ
â””â”€â”€ logs/                       # å®éªŒæ—¥å¿—
```

### ğŸ“ docs/ - é¡¹ç›®æ–‡æ¡£

```
docs/
â”œâ”€â”€ project/                    # é¡¹ç›®ç®¡ç†æ–‡æ¡£
â”‚   â”œâ”€â”€ PROJECT_STATUS.md       # é¡¹ç›®çŠ¶æ€ä¸è¿›å±•
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md    # æœ¬æ–‡æ¡£
â”‚   â”œâ”€â”€ CLAUDE.md              # AIåŠ©æ‰‹é…ç½®
â”‚   â””â”€â”€ CLEANUP_SUMMARY.md      # æ¸…ç†è®°å½•
â”‚
â”œâ”€â”€ technical/                  # æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ API_REFERENCE.md        # APIä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ DATABASE_SCHEMA.md      # æ•°æ®åº“è®¾è®¡
â”‚   â”œâ”€â”€ DATA_GUIDE.md          # æ•°æ®æ”¶é›†æŒ‡å—
â”‚   â””â”€â”€ EVALUATION_METRICS.md   # è¯„ä¼°æŒ‡æ ‡è¯´æ˜
â”‚
â””â”€â”€ paper/                      # å­¦æœ¯è®ºæ–‡
    â””â”€â”€ versions/               # è®ºæ–‡ç‰ˆæœ¬
        â””â”€â”€ v2.3/               # æœ€æ–°ç‰ˆæœ¬
```

### ğŸ“ tools/ - å·¥å…·è„šæœ¬

```
tools/
â”œâ”€â”€ data_collection/            # æ•°æ®æ”¶é›†å·¥å…·
â”‚   â”œâ”€â”€ coop_data_collector.py  # äº¤äº’å¼æ•°æ®æ”¶é›†
â”‚   â””â”€â”€ focus_units_collector.py # é‡ç‚¹å•ä½æ”¶é›†
â”‚
â”œâ”€â”€ data_maintenance/           # æ•°æ®ç»´æŠ¤å·¥å…·
â”‚   â”œâ”€â”€ import_coop_data.py     # æ•°æ®å¯¼å…¥
â”‚   â”œâ”€â”€ correct_focus_data.py   # æ•°æ®ä¿®æ­£
â”‚   â””â”€â”€ data_verification.py    # æ•°æ®éªŒè¯
â”‚
â””â”€â”€ paper_modification_helper.py # è®ºæ–‡ä¿®æ”¹è¾…åŠ©
```

## å…³é”®æ–‡ä»¶è¯´æ˜

### ä¸»ç¨‹åº
- **run_evaluation.py** - å•ä½è¯„ä¼°ä¸»å…¥å£ï¼Œæ”¯æŒå‘½ä»¤è¡Œå‚æ•°
- **run_experiment.py** - å®éªŒæ¡†æ¶ï¼Œæ”¯æŒæ‰¹é‡å®éªŒå’Œå‚æ•°æ‰«æ
- **evaluate_new_unit.py** - äº¤äº’å¼æ–°å•ä½è¯„ä¼°å·¥å…·

### æ ¸å¿ƒç®—æ³•
- **enhanced_cev_calculator.py** - å®ç°åŠ¨æ€CEVå…¬å¼ï¼Œè€ƒè™‘æ—¶é—´å› å­
- **refined_cev_calculator.py** - v2.3ç²¾ç»†åŒ–æ¨¡å‹ï¼Œå«æ“ä½œéš¾åº¦ç­‰å‚æ•°

### æ•°æ®ç®¡ç†
- **starcraft2.db** - åŒ…å«æ‰€æœ‰å•ä½ã€æ­¦å™¨ã€æŠ€èƒ½æ•°æ®çš„SQLiteæ•°æ®åº“
- **query_interface.py** - æä¾›å•ä½æŸ¥è¯¢ã€å¹³è¡¡æ€§åˆ†æç­‰é«˜çº§åŠŸèƒ½

## ä½¿ç”¨æµç¨‹

1. **æ•°æ®å‡†å¤‡**
   ```bash
   # æ”¶é›†æ•°æ®
   python tools/data_collection/coop_data_collector.py
   
   # å¯¼å…¥æ•°æ®åº“
   python -m src.database.migrate_to_db
   ```

2. **è¿è¡Œè¯„ä¼°**
   ```bash
   # å•ä¸ªå•ä½è¯„ä¼°
   python run_evaluation.py --commander "é˜¿æ‹‰çº³å…‹" --unit "å¤©ç½šè¡Œè€…"
   
   # æ‰¹é‡å®éªŒ
   python run_experiment.py run experiments/configs/examples/unit_evaluation.yaml
   ```

3. **æŸ¥çœ‹ç»“æœ**
   - å®éªŒç»“æœä¿å­˜åœ¨ `experiments/results/`
   - å¯è§†åŒ–å›¾è¡¨è‡ªåŠ¨ç”Ÿæˆ

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ç›¸åº”çš„ `src/` å­ç›®å½•ä¸­åˆ›å»ºæ¨¡å—
2. æ›´æ–° `__init__.py` æ–‡ä»¶
3. æ·»åŠ æµ‹è¯•ç”¨ä¾‹åˆ° `tests/`
4. æ›´æ–°æ–‡æ¡£

### æ•°æ®æ‰©å±•
1. æŒ‰ç…§ `docs/technical/DATA_GUIDE.md` å‡†å¤‡CSVæ•°æ®
2. ä½¿ç”¨ `tools/data_maintenance/` å·¥å…·å¯¼å…¥éªŒè¯
3. è¿è¡Œè¯„ä¼°ç¡®è®¤æ•°æ®æ­£ç¡®æ€§

### å®éªŒé…ç½®
1. åœ¨ `experiments/configs/` åˆ›å»ºYAMLé…ç½®
2. å®šä¹‰å®éªŒå‚æ•°å’Œè¯„ä¼°æŒ‡æ ‡
3. ä½¿ç”¨ `run_experiment.py` æ‰§è¡Œ

## ç‰ˆæœ¬æ§åˆ¶è¯´æ˜

### çº³å…¥ç‰ˆæœ¬æ§åˆ¶
- æ‰€æœ‰æºä»£ç  (`src/`)
- å®éªŒé…ç½® (`experiments/configs/`)
- æ–‡æ¡£ (`docs/`)
- æ•°æ®å®šä¹‰æ–‡ä»¶ (`data/units/*.csv`)

### ä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶
- æ•°æ®åº“æ–‡ä»¶ (`*.db`)
- å®éªŒç»“æœ (`experiments/results/`)
- æ—¥å¿—æ–‡ä»¶ (`*.log`)
- ä¸´æ—¶æ–‡ä»¶å’Œç¼“å­˜

---

*æœ¬é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤ã€‚å¦‚æœ‰é—®é¢˜è¯·å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–æäº¤Issueã€‚*